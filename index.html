<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="description" content="A special birthday greeting for Nurse Es"/>
<title>Happy Birthday</title>
<!-- Favicon -->
<link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBmaWxsPSIjZmY1OTY0Ij48cGF0aCBkPSJNOTYgOTZjMC0zNS4zIDI4LjctNjQgNjQtNjRoMTkyYzM1LjMgMCA2NCAyOC43IDY0IDY0djQ4YzAgOC44LTcuMiAxNi0xNiAxNkg4MGMtOC44IDAtMTYtNy4yLTE2LTE2Vjk2ek02NCAxOTJoMzg0YzguOCAwIDE2IDcuMiAxNiAxNnYzMmMwIDguOC03LjIgMTYtMTYgMTZoLTM4NGMtOC44IDAtMTYtNy4yLTE2LTE2di0zMmMwLTguOCA3LjItMTYgMTYtMTZ6bTQzMiAyNTZjMCAxNy43LTE0LjMgMzItMzIgMzJoLTM4NGMtMTcuNyAwLTMyLTE0LjMtMzItMzJ2LTE2MGMwLTguOCA3LjItMTYgMTYtMTZoNDE2YzguOCAwIDE2IDcuMiAxNiAxNnYxNjB6TTIzMiA0NDhjMC04LjggNy4yLTE2IDE2LTE2aDMyYzguOCAwIDE2IDcuMiAxNiAxNmMwIDguOC03LjIgMTYtMTYgMTZoLTMyYy04LjggMC0xNi03LjItMTYtMTZ6bS00OC0xNmMwLTguOCA3LjItMTYgMTYtMTZoMzJjOC44IDAgMTYgNy4yIDE2IDE2YzAgOC44LTcuMiAxNi0xNiAxNmgtMzJjLTguOCAwLTE2LTcuMi0xNi0xNnptMTI4IDBjMC04LjggNy4yLTE2IDE2LTE2aDMyYzguOCAwIDE2IDcuMiAxNiAxNmMwIDguOC03LjIgMTYtMTYgMTZoLTMyYy04LjggMC0xNi03LjItMTYtMTZ6Ii8+PC9zdmc+" type="image/svg+xml">
<!-- Apple Touch Icon -->
<link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBmaWxsPSIjZmY1OTY0Ij48cGF0aCBkPSJNOTYgOTZjMC0zNS4zIDI4LjctNjQgNjQtNjRoMTkyYzM1LjMgMCA2NCAyOC43IDY0IDY0djQ4YzAgOC44LTcuMiAxNi0xNiAxNkg4MGMtOC44IDAtMTYtNy4yLTE2LTE2Vjk2ek02NCAxOTJoMzg0YzguOCAwIDE2IDcuMiAxNiAxNnYzMmMwIDguOC03LjIgMTYtMTYgMTZoLTM4NGMtOC44IDAtMTYtNy4yLTE2LTE2di0zMmMwLTguOCA3LjItMTYgMTYtMTZ6bTQzMiAyNTZjMCAxNy43LTE0LjMgMzItMzIgMzJoLTM4NGMtMTcuNyAwLTMyLTE0LjMtMzItMzJ2LTE2MGMwLTguOCA3LjItMTYgMTYtMTZoNDE2YzguOCAwIDE2IDcuMiAxNiAxNnYxNjB6TTIzMiA0NDhjMC04LjggNy4yLTE2IDE2LTE2aDMyYzguOCAwIDE2IDcuMiAxNiAxNmMwIDguOC03LjIgMTYtMTYgMTZoLTMyYy04LjggMC0xNi03LjItMTYtMTZ6bS00OC0xNmMwLTguOCA3LjItMTYgMTYtMTZoMzJjOC44IDAgMTYgNy4yIDE2IDE2YzAgOC44LTcuMiAxNi0xNiAxNmgtMzJjLTguOCAwLTE2LTcuMi0xNi0xNnptMTI4IDBjMC04LjggNy4yLTE2IDE2LTE2aDMyYzguOCAwIDE2IDcuMiAxNiAxNmMwIDguOC03LjIgMTYtMTYgMTZoLTMyYy04LjggMC0xNi03LjItMTYtMTZ6Ii8+PC9zdmc+">
<!-- Microsoft Tile -->
<meta name="msapplication-TileColor" content="#ff5964">
<meta name="msapplication-TileImage" content="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBmaWxsPSIjZmY1OTY0Ij48cGF0aCBkPSJNOTYgOTZjMC0zNS4zIDI4LjctNjQgNjQtNjRoMTkyYzM1LjMgMCA2NCAyOC43IDY0IDY0djQ4YzAgOC44LTcuMiAxNi0xNiAxNkg4MGMtOC44IDAtMTYtNy4yLTE2LTE2Vjk2ek02NCAxOTJoMzg0YzguOCAwIDE2IDcuMiAxNiAxNnYzMmMwIDguOC03LjIgMTYtMTYgMTZoLTM4NGMtOC44IDAtMTYtNy4yLTE2LTE2di0zMmMwLTguOCA3LjItMTYgMTYtMTZ6bTQzMiAyNTZjMCAxNy43LTE0LjMgMzItMzIgMzJoLTM4NGMtMTcuNyAwLTMyLTE0LjMtMzItMzJ2LTE2MGMwLTguOCA3LjItMTYgMTYtMTZoNDE2YzguOCAwIDE2IDcuMiAxNiAxNnYxNjB6TTIzMiA0NDhjMC04LjggNy4yLTE2IDE2LTE2aDMyYzguOCAwIDE2IDcuMiAxNiAxNmMwIDguOC03LjIgMTYtMTYgMTZoLTMyYy04LjggMC0xNi03LjItMTYtMTZ6bS00OC0xNmMwLTguOCA3LjItMTYgMTYtMTZoMzJjOC44IDAgMTYgNy4yIDE2IDE2YzAgOC44LTcuMiAxNi0xNiAxNmgtMzJjLTguOCAwLTE2LTcuMi0xNi0xNnptMTI4IDBjMC04LjggNy4yLTE2IDE2LTE2aDMyYzguOCAwIDE2IDcuMiAxNiAxNmMwIDguOC03LjIgMTYtMTYgMTZoLTMyYy04LjggMC0xNi03LjItMTYtMTZ6Ii8+PC9zdmc+">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Poppins:wght@300;600&display=swap');

  /* Reset & Basics */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  html {
    scroll-behavior: smooth;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #571e26, #a54442 60%, #da758f 100%);
    color: #fff4f4;
    min-height: 100vh;
    overflow-x: hidden;
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 24 24" fill="%23ff5964"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 16 16, auto;
  }

  /* Background overlay subtle pattern of hearts - optimized */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      radial-gradient(rgba(255 255 255 / 0.07) 1px, transparent 1px);
    background-size: 50px 50px;
    pointer-events: none;
    z-index: 0;
  }

  /* Navigation - optimized with will-change for better performance */
  nav {
    position: sticky;
    top: 15px;
    background: rgba(0, 0, 0, 0.3);
    max-width: 1024px;
    margin: 0 auto 40px;
    border-radius: 9999px;
    padding: 8px 25px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    z-index: 50;
    backdrop-filter: saturate(150%) blur(12px);
    -webkit-backdrop-filter: saturate(150%) blur(12px);
    will-change: transform;
  }
  nav ul {
    display: flex;
    gap: 30px;
    list-style: none;
    padding: 0;
    margin: 0;
  }
  nav ul li {
    line-height: 1;
  }
  nav ul li a {
    font-weight: 600;
    color: #ffc9ce;
    font-size: 1.15rem;
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 50px;
    font-family: 'Playfair Display', serif;
    transition: all 0.3s ease;
    user-select: none;
    display: inline-block;
  }
  nav ul li a:hover,
  nav ul li a:focus,
  nav ul li a.active {
    background-color: #ff778e;
    color: white;
    transform: scale(1);
    outline: none;
    box-shadow: 0 0 8px #ff778e;
  }

  /* Section Container - optimized transitions */
  section {
    background: rgba(255, 255, 255, 0.05);
    max-width: 850px;
    margin: 0 auto 50px;
    padding: 50px 50px;
    border-radius: 20px;
    box-shadow:
      inset 0 0 100px 10px rgba(207, 123, 129, 0.67),
      0 12px 24px rgba(0,0,0,0.4);
    position: relative;
    opacity: 0;
    transform: translateY(50px);
    transition:
      opacity 0.5s ease-out,
      transform 0.5s ease-out;
    color: #fff4f4;
    user-select: none;
    will-change: opacity, transform;
  }
  section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Hero Section */
  #home {
    height: 75vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 40px;
  }
  #home h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(3rem, 8vw, 6.5rem);
    letter-spacing: 2px;
    line-height: 1.1;
    color: #ffccd5;
    text-shadow:
      0 3px 4px rgba(130, 5, 23, 0.8),
      0 0 20px rgba(255, 111, 145, 0.8);
    user-select: text;
    text-align: center;
  }

  /* Message Text */
  #message h2 {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    font-size: 2.25rem;
    margin-bottom: 25px;
    text-shadow: 0 1px 6px rgba(122, 32, 41, 0.8);
    color: #ffbec3;
    user-select: text;
    text-align: center;
  }
  #message p {
    font-weight: 300;
    font-size: 1.18rem;
    line-height: 1.6;
    max-width: 700px;
    margin: 0 auto;
    letter-spacing: 0.05em;
    color: #ffe1e6;
    text-shadow: 0 0 8px rgba(166, 82, 86, 0.31);
    text-align: center;
  }
  #message .hearts {
    font-size: 2.2rem;
    margin: 20px auto 35px;
    animation: pulse 2.2s infinite alternate ease-in-out;
    user-select: none;
    max-width: 150px;
    text-align: center;
    will-change: transform, opacity;
  }

  /* Heart pulse - optimized animation */
  @keyframes pulse {
    0% { transform: scale(1); opacity: 0.8; }
    100% { transform: scale(1.25); opacity: 1; }
  }

  /* Gallery - optimized grid layout */
  .gallery-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 24px;
    max-width: 900px;
    margin: 0 auto;
  }
  .gallery-item {
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 5px 18px rgba(255, 105, 115, 0.75);
    background: rgba(62, 26, 34, 0.8);
    cursor: pointer;
    user-select: none;
    display: flex;
    flex-direction: column;
    transition: all 0.35s ease;
    will-change: transform, box-shadow;
  }
  .gallery-item:hover,
  .gallery-item:focus-visible {
    box-shadow: 0 12px 36px rgba(255, 105, 115, 0.9);
    transform: translateY(-5px) scale(1.05);
    outline: none;
  }
  .gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: filter 0.3s ease;
  }
  .gallery-item:focus-visible img {
    filter: drop-shadow(0 0 8px rgba(255, 111, 145, 0.67));
  }
  .gallery-item .caption {
    display: none;
  }

  /* Slideshow - optimized with preload for better performance */
  .slideshow {
    position: fixed;
    inset: 0;
    background: rgba(40, 15, 22, 0.97);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.35s ease;
    z-index: 1100;
    visibility: hidden;
  }
  .slideshow.visible {
    opacity: 1;
    pointer-events: auto;
    visibility: visible;
  }
  .slideshow-close {
    position: absolute;
    top: 30px;
    right: 30px;
    font-size: 3rem;
    background: #ff718a;
    border-radius: 36px;
    color: white;
    border: none;
    width: 56px;
    height: 56px;
    cursor: pointer;
    box-shadow: 0 0 12px rgba(255, 111, 145, 0.8);
    user-select: none;
    font-weight: 900;
    transition: background 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 0.8;
  }
  .slideshow-close:hover,
  .slideshow-close:focus-visible {
    background: #ff4f5b;
    outline: none;
    box-shadow: 0 0 18px rgba(255, 79, 91, 0.8);
  }
  .slideshow-image-container {
    max-width: 85vw;
    max-height: 75vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .slideshow img {
    max-width: 100%;
    max-height: 100%;
    border-radius: 22px;
    box-shadow: 0 0 40px 15px rgba(255, 113, 138, 0.53);
    margin-bottom: 18px;
    user-select: none;
  }
  .slideshow .caption {
    padding: 20px 15px;
    color: #ffc9ce;
    font-style: italic;
    font-weight: 600;
    font-size: 1.15rem;
    text-align: center;
    text-shadow: 0 0 8px rgba(255, 119, 142, 0.6);
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s ease 0.2s;
  }
  .slideshow.visible .caption {
    opacity: 1;
    transform: translateY(0);
  }
  .slideshow-nav {
    display: flex;
    justify-content: center;
    gap: 35px;
    user-select: none;
  }
  .slideshow-nav button {
    background: #ff718a;
    border: none;
    border-radius: 50%;
    width: 54px;
    height: 54px;
    font-size: 2.8rem;
    cursor: pointer;
    color: white;
    box-shadow: 0 0 12px rgba(255, 111, 145, 0.8);
    transition: background 0.3s ease;
    font-weight: 900;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 0;
    padding: 0 0 10px 0;
  }
  .slideshow-nav button:hover,
  .slideshow-nav button:focus-visible {
    background: #ff4f5b;
    outline: none;
    box-shadow: 0 0 18px rgba(255, 79, 91, 0.8);
  }

  /* Floating hearts - optimized animation */
  .floating-heart {
    position: fixed;
    pointer-events: none;
    font-size: 30px;
    animation: floatUp 1.6s ease forwards;
    user-select: none;
    z-index: 1200;
    filter: drop-shadow(0 0 3px rgba(255, 119, 142, 0.8));
    will-change: transform, opacity;
  }
  @keyframes floatUp {
    0% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translateY(-90px) scale(1.6);
    }
  }

  /* Loading indicator */
  .preload-images {
    width: 0;
    height: 0;
    visibility: hidden;
    position: absolute;
  }

  /* Responsive tweaks - enhanced with better breakpoints */
  @media (max-width: 768px) {
    section {
      padding: 40px 30px;
      margin: 0 auto 40px;
    }
    #message p {
      font-size: 1.1rem;
    }
  }
  
  @media (max-width: 500px) {
    nav ul {
      gap: 10px;
    }
    nav ul li a {
      font-size: 0.95rem;
      padding: 8px 12px;
    }
    section {
      padding: 30px 20px;
      max-width: 92vw;
    }
    .gallery-item img {
      height: 140px;
    }
    .slideshow-close {
      top: 15px;
      right: 15px;
      width: 46px;
      height: 46px;
      font-size: 2.5rem;
    }
    .slideshow-nav button {
      width: 46px;
      height: 46px;
      font-size: 2.4rem;
    }
  }
  
  /* Print styles */
  @media print {
    body {
      background: #fff;
      color: #000;
    }
    nav, #bg-music, .slideshow {
      display: none;
    }
    section {
      box-shadow: none;
      page-break-inside: avoid;
      break-inside: avoid;
    }
  }

  /* Gift box styles */
  .gift-container {
    position: relative;
    cursor: pointer;
    text-align: center;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .gift-box {
    width: 200px;
    height: 200px;
    position: relative;
    margin-bottom: 20px;
    transition: all 0.5s ease;
  }

  .gift-box svg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
  }

  .gift-box .box-lid {
    transform-origin: center bottom;
    transition: transform 0.5s ease;
  }

  .gift-box .ribbon-left {
    transform-origin: 100px 35px;
    transition: transform 0.6s ease-out 0.1s;
  }

  .gift-box .ribbon-right {
    transform-origin: 100px 35px;
    transition: transform 0.6s ease-out 0.1s;
  }

  .gift-box .ribbon-knot {
    transform-origin: center center;
    transition: transform 0.5s ease;
  }

  .gift-container.opened .gift-box {
    transform: scale(0);
    opacity: 0;
  }

  .gift-message {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    transform: translate(-50%, -50%) scale(0);
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 4vw, 3.5rem);
    color: #ffccd5;
    text-shadow: 0 3px 4px rgba(130, 5, 23, 0.8), 0 0 20px rgba(255, 111, 145, 0.8);
    opacity: 0;
    transition: all 0.5s ease;
    padding: 0 20px;
  }

  .gift-container.opened .gift-message {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }

  .gift-instruction {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: #ffccd5;
    margin-top: 1rem;
    opacity: 0.8;
    text-shadow: 0 2px 4px rgba(130, 5, 23, 0.6);
    transition: opacity 0.3s ease;
  }
</style>
</head>
<body>

<!-- Preload key elements for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="font" href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Poppins:wght@300;600&display=swap">

<nav role="navigation" aria-label="Primary Navigation">
  <ul>
    <li><a href="#home" tabindex="0" class="active">Home</a></li>
    <li><a href="#message" tabindex="0">Message</a></li>
    <li><a href="#gallery" tabindex="0">Gallery</a></li>
  </ul>
</nav>

<section id="home" tabindex="0" aria-label="Homepage birthday greeting" class="visible">
  <div class="gift-container">
    <div class="gift-box">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <!-- Box base -->
        <rect x="40" y="80" width="120" height="100" fill="#ff5964" rx="8"/>
        <rect x="85" y="80" width="30" height="100" fill="#ff8f97"/>
        
        <!-- Box lid -->
        <g class="box-lid">
          <rect x="35" y="60" width="130" height="25" fill="#ff718a" rx="6"/>
          <rect x="85" y="60" width="30" height="25" fill="#ff8f97"/>
        </g>
        
        <!-- Ribbon -->
        <g class="ribbon-left">
          <path d="M85 40 Q95 20 105 40" stroke="#ff8f97" stroke-width="8" fill="none"/>
        </g>
        
        <g class="ribbon-right">
          <path d="M95 40 Q105 20 115 40" stroke="#ff8f97" stroke-width="8" fill="none"/>
        </g>
        
        <!-- Ribbon knot -->
        <g class="ribbon-knot">
          <circle cx="100" cy="40" r="10" fill="#ff8f97"/>
          <circle cx="100" cy="40" r="6" fill="#ff718a"/>
        </g>
      </svg>
    </div>
    <div class="gift-message">Happy Birthday, Nurse Esti!üéâ</div>
    <div class="gift-instruction">Click to open ‚ú®</div>
  </div>
</section>

<section id="message" aria-label="Birthday message for girlfriend" tabindex="0">
  <div class="hearts" aria-hidden="true">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
  <h2>To my one and only,</h2>
  <p>
    üéâ HAPPY BIRTHDAYY!! üéâ<br><br>
    Alam mo bang sobrang proud ako sa‚Äôyo? Sa lahat ng ginagawa mo,
    sa mga pangarap mong unti-unting natutupad, at syempre‚Ä¶ proud din
    ako kasi ako yung pinili mong jowa üòè swerte ko no? <br>
    <br>
    Thank you kasi kahit makulit ako, late mag-reply minsan, o tamad mag-picture (pero 100 shots pag ikaw), mahal mo pa rin ako. ü•π
    Ikaw yung constant sa kalat kong araw. Yung pampakalma sa lahat ng stress. Kahit simple lang‚Äîbasta kasama ka, parang ang gaan ng lahat.
    <br><br>
    Promise ko ‚Äòto: <br><br>

    More kulit moments ‚úîÔ∏è <br>
    More date na ‚Äòikaw lang ang pipili ng kainan‚Äô ‚úîÔ∏è <br>
    More ‚Äòsaan tayo pupunta?‚Äô moments ‚úîÔ∏è <br>
    More yakap pag bad day ‚úîÔ∏è <br>
    At syempre‚Ä¶ more love, every single day. üíØ <br>
    <br>
    Ang wish ko for you? Sana di ka na ma-late, matanggap ka sa Australia or sa ibang bansa, at syempre ‚Äî sana ako pa rin ang kasama mo sa next birthdays mo ü•π (hanggang sa forever, please?)
    <br><br>
    Enjoy your day, my love.
    You‚Äôre beautiful, you‚Äôre amazing, and you‚Äôre mine. üíï

    Love you to the moon, the beach, the bundok, at pati sa next life. üòò
    <br><br>
    ‚Äì Ang pinaka-cute mong jowa (aminin mo na hehe)
  </p>
  <div class="hearts" aria-hidden="true">üíïüíñüíû</div>
</section>

<section aria-label="Gallery of our pictures" class="gallery-container" id="gallery" tabindex="0">
  <!-- Images with loading="lazy" for better performance -->
  <div class="gallery-item" tabindex="0" data-index="0">
    <img loading="lazy" src="/src/1.JPG" alt="Happy candid moment" />
    <div class="caption">Birthday kiss for the girl who steals all my kisses and still makes me want to give more.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="1">
    <img loading="lazy" src="/src/2.JPG" alt="Couple smiling at the beach" />
    <div class="caption">Serving looks and stealing my heart.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="2">
    <img loading="lazy" src="/src/3.JPG" alt="Walking together holding hands" />
    <div class="caption">Nature's beautiful‚Ä¶ but still not as breathtaking as you.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="3">
    <img loading="lazy" src="/src/4.JPG" alt="Romantic sunset photo" />
    <div class="caption">To the one whose smile brightens my every day.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/5.JPG" alt="Playful couple laughing" />
    <div class="caption">You are my calm in the waves, my sunshine by the sea.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/6.JPG" alt="Playful couple laughing" />
    <div class="caption">Smart, stunning, and so full of life.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/7.JPG" alt="Playful couple laughing" />
    <div class="caption">My queen, my muse, my everything.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/8.JPEG" alt="Playful couple laughing" />
    <div class="caption">Every splash of water, every burst of laughter‚Äîyour joy is contagious.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/9.JPEG" alt="Playful couple laughing" />
    <div class="caption">Even when you hide, you shine.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/10.JPEG" alt="Playful couple laughing" />
    <div class="caption">Here's to turning your back on worries and diving into another amazing year ahead.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/11.JPEG" alt="Playful couple laughing" />
    <div class="caption">Bold, beautiful, and unbothered‚Äîjust how I love you.</div>
  </div>
  <div class="gallery-item" tabindex="0" data-index="4">
    <img loading="lazy" src="/src/12.JPEG" alt="Playful couple laughing" />
    <div class="caption">Here's to walking into your next chapter like the boss you are.</div>
  </div>
</section>

<!-- Background audio controls with preload="metadata" to save data -->
<audio id="bg-music" src="src/iris.mp3" controls loop preload="metadata" aria-label="Background music">
  Your browser does not support the audio element.
</audio>

<!-- Slideshow with improved performance -->
<div class="slideshow" id="slideshow" aria-modal="true" role="dialog" aria-label="Image slideshow" tabindex="0">
  <button class="slideshow-close" aria-label="Close slideshow">&times;</button>
  <div class="slideshow-image-container">
    <img src="" alt="" id="slideshow-img" />
  </div>
  <div class="caption" id="slideshow-caption"></div>
  <div class="slideshow-nav">
    <button id="prev-btn" aria-label="Previous image">&#8678;</button>
    <button id="next-btn" aria-label="Next image">&#8680;</button>
  </div>
</div>

<script>
  // Use DOMContentLoaded to ensure DOM is ready
  document.addEventListener('DOMContentLoaded', () => {
    // Optimize performance by caching DOM elements
    const navLinks = document.querySelectorAll("nav ul li a");
    const sections = Array.from(document.querySelectorAll("section"));
    
    // Debounced scroll handler for better performance
    let scrollTimeout;
    function debounce(fn, delay) {
      return function() {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => fn.apply(this, arguments), delay);
      };
    }
    
    // Smooth highlight active nav link on scrolling - optimized
    function setActiveLink() {
      const scrollPos = window.scrollY + window.innerHeight / 3;
      
      // Avoid unnecessary DOM operations with flag
      let activeIndex = -1;
      sections.forEach((section, index) => {
        if (
          section.offsetTop <= scrollPos && 
          (section.offsetTop + section.offsetHeight) > scrollPos
        ) {
          activeIndex = index;
        }
      });
      
      // Only update DOM if necessary
      navLinks.forEach((link, index) => {
        if (index === activeIndex && !link.classList.contains('active')) {
          link.classList.add('active');
        } else if (index !== activeIndex && link.classList.contains('active')) {
          link.classList.remove('active');
        }
      });
    }
    
    // Use passive event listener for better scroll performance
    window.addEventListener('scroll', debounce(setActiveLink, 50), { passive: true });
    setActiveLink();

    // Intersection Observer for scroll-triggered animation - optimized
    const observerOptions = { 
      threshold: 0.15,
      rootMargin: '0px 0px -10% 0px' 
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          // Once visible, no need to observe anymore
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);
    
    sections.forEach(section => observer.observe(section));

    // Gallery and slideshow - optimized
    const gallery = document.getElementById('gallery');
    const slideshow = document.getElementById('slideshow');
    const slideshowImg = document.getElementById('slideshow-img');
    const slideshowCaption = document.getElementById('slideshow-caption');
    const closeBtn = slideshow.querySelector('.slideshow-close');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    let currentIndex = 0;
    let galleryItems = Array.from(document.querySelectorAll('.gallery-item'));
    
    // Preload next/previous images for smoother slideshow
    function preloadAdjacentImages(index) {
      const nextIndex = (index + 1) % galleryItems.length;
      const prevIndex = (index - 1 + galleryItems.length) % galleryItems.length;
      
      // Create Image objects to preload
      [nextIndex, prevIndex].forEach(idx => {
        const imgSrc = galleryItems[idx].querySelector('img').src;
        if (imgSrc) {
          const preloadImg = new Image();
          preloadImg.src = imgSrc;
        }
      });
    }

    function showSlideshow(index) {
      if (index < 0) index = galleryItems.length - 1;
      if (index >= galleryItems.length) index = 0;
      
      currentIndex = index;
      const imgEl = galleryItems[index].querySelector('img');
      const captionEl = galleryItems[index].querySelector('.caption');
      
      // Set attributes before showing for better performance
      slideshowImg.src = imgEl.src;
      slideshowImg.alt = imgEl.alt;
      slideshowCaption.textContent = captionEl ? captionEl.textContent : '';
      
      // Show slideshow
      slideshow.classList.add('visible');
      slideshow.focus();
      document.body.style.overflow = 'hidden';
      
      // Preload adjacent images for smoother navigation
      preloadAdjacentImages(index);
    }
    
    function closeSlideshow() {
      slideshow.classList.remove('visible');
      document.body.style.overflow = '';
      
      // Clear src after animation completes to save memory
      setTimeout(() => {
        if (!slideshow.classList.contains('visible')) {
          slideshowImg.src = '';
          slideshowCaption.textContent = '';
        }
      }, 350);
    }

    // Event delegation for gallery clicks - more efficient
    gallery.addEventListener('click', (e) => {
      const item = e.target.closest('.gallery-item');
      if (item) {
        showSlideshow(parseInt(item.getAttribute('data-index')));
      }
    });
    
    // Keyboard navigation for gallery
    gallery.addEventListener('keydown', (e) => {
      const item = e.target.closest('.gallery-item');
      if (item && e.key === 'Enter') {
        showSlideshow(parseInt(item.getAttribute('data-index')));
      }
    });

    closeBtn.addEventListener('click', closeSlideshow);
    
    // Only close if clicking the backdrop, not on any children
    slideshow.addEventListener('click', (e) => {
      if (e.target === slideshow) {
        closeSlideshow();
      }
    });

    prevBtn.addEventListener('click', () => showSlideshow(currentIndex - 1));
    nextBtn.addEventListener('click', () => showSlideshow(currentIndex + 1));

    // Global keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (slideshow.classList.contains('visible')) {
        if (e.key === 'Escape') {
          closeSlideshow();
        } else if (e.key === 'ArrowLeft') {
          showSlideshow(currentIndex - 1);
        } else if (e.key === 'ArrowRight') {
          showSlideshow(currentIndex + 1);
        }
      }
    });

    // Floating heart on click - optimized for performance
    document.body.addEventListener('click', (e) => {
      // Don't create hearts when clicking interactive elements
      if (e.target.closest('button, a, input, textarea, audio, .gallery-item, .slideshow')) return;
      
      // Create heart with optimized animation
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.style.left = (e.clientX - 15) + 'px';
      heart.style.top = (e.clientY - 15) + 'px';
      heart.textContent = '‚ù§Ô∏è';
      document.body.appendChild(heart);
      
      // Remove from DOM when animation completes
      heart.addEventListener('animationend', () => heart.remove());
    });

    // Background music handling - optimized
    const bgMusic = document.getElementById('bg-music');
    bgMusic.volume = 0.25;
    
    // Better user interaction for music
    function enableMusicOnUserGesture() {
      try {
        // Use promise to handle autoplay prevention
        bgMusic.play()
          .catch(error => {
            console.log('Autoplay prevented, waiting for user interaction');
          });
      } catch (e) {
        // Fallback for browsers that don't support promises
        console.log('Error playing audio, waiting for user interaction');
      }
      
      // Only need to try once
      document.removeEventListener('click', enableMusicOnUserGesture);
    }
    
    document.addEventListener('click', enableMusicOnUserGesture);

    // Gift box animation
    const giftContainer = document.querySelector('.gift-container');
    const giftInstruction = document.querySelector('.gift-instruction');
    let isAnimating = false;
    
    giftContainer.addEventListener('click', () => {
      if (!giftContainer.classList.contains('opened') && !isAnimating) {
        isAnimating = true;
        
        // Animate ribbon and lid before the box disappears
        const ribbonLeft = document.querySelector('.ribbon-left');
        const ribbonRight = document.querySelector('.ribbon-right');
        const ribbonKnot = document.querySelector('.ribbon-knot');
        const boxLid = document.querySelector('.box-lid');
        
        // Animate ribbon parts
        ribbonLeft.style.transform = 'translate(-15px, -15px) rotate(-30deg) scale(0.9)';
        ribbonRight.style.transform = 'translate(15px, -15px) rotate(30deg) scale(0.9)';
        ribbonKnot.style.transform = 'translate(0, -10px) scale(0.8)';
        boxLid.style.transform = 'translate(0, -20px) scale(0.95)';
        
        // Add opened class after brief animation
        setTimeout(() => {
          giftContainer.classList.add('opened');
          giftInstruction.style.opacity = '0';
          
          // Create hearts burst effect
          for (let i = 0; i < 12; i++) {
            setTimeout(() => {
              const heart = document.createElement('div');
              heart.className = 'floating-heart';
              const randomX = Math.random() * 300 - 150;
              const randomStartY = Math.random() * 50 - 25;
              heart.style.left = `calc(50% + ${randomX}px)`;
              heart.style.top = `calc(50% + ${randomStartY}px)`;
              heart.textContent = ['‚ù§Ô∏è', 'üíñ', 'üíù', 'üíï'][Math.floor(Math.random() * 4)];
              document.body.appendChild(heart);
              heart.addEventListener('animationend', () => heart.remove());
            }, i * 100);
          }
          
          isAnimating = false;
        }, 400);
      }
    });
  });
</script>
</body>
</html>